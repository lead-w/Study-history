<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>http | NorthUnicorn</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/Study-history/assets/css/0.styles.e2241fa8.css" as="style"><link rel="preload" href="/Study-history/assets/js/app.a1ad6491.js" as="script"><link rel="preload" href="/Study-history/assets/js/12.d1a6fe69.js" as="script"><link rel="prefetch" href="/Study-history/assets/js/10.7e604d29.js"><link rel="prefetch" href="/Study-history/assets/js/11.3067a7ca.js"><link rel="prefetch" href="/Study-history/assets/js/13.4864be39.js"><link rel="prefetch" href="/Study-history/assets/js/14.30636de0.js"><link rel="prefetch" href="/Study-history/assets/js/15.2bcbbae8.js"><link rel="prefetch" href="/Study-history/assets/js/16.9d7f8d82.js"><link rel="prefetch" href="/Study-history/assets/js/17.0b328dfe.js"><link rel="prefetch" href="/Study-history/assets/js/18.f73ae9e0.js"><link rel="prefetch" href="/Study-history/assets/js/19.0e9a993e.js"><link rel="prefetch" href="/Study-history/assets/js/2.d8f505d4.js"><link rel="prefetch" href="/Study-history/assets/js/20.1a0bbb82.js"><link rel="prefetch" href="/Study-history/assets/js/21.23696e8c.js"><link rel="prefetch" href="/Study-history/assets/js/22.0c73380e.js"><link rel="prefetch" href="/Study-history/assets/js/23.c3ff09bc.js"><link rel="prefetch" href="/Study-history/assets/js/24.7933ac39.js"><link rel="prefetch" href="/Study-history/assets/js/25.c8ae28e2.js"><link rel="prefetch" href="/Study-history/assets/js/26.3736bb12.js"><link rel="prefetch" href="/Study-history/assets/js/27.97f3f560.js"><link rel="prefetch" href="/Study-history/assets/js/28.fa4268d5.js"><link rel="prefetch" href="/Study-history/assets/js/29.50a00a75.js"><link rel="prefetch" href="/Study-history/assets/js/3.8796f9d7.js"><link rel="prefetch" href="/Study-history/assets/js/30.25371944.js"><link rel="prefetch" href="/Study-history/assets/js/31.b1b8fd04.js"><link rel="prefetch" href="/Study-history/assets/js/32.f534b2b4.js"><link rel="prefetch" href="/Study-history/assets/js/33.b9e3298a.js"><link rel="prefetch" href="/Study-history/assets/js/34.8ac7105e.js"><link rel="prefetch" href="/Study-history/assets/js/35.ba4dfc73.js"><link rel="prefetch" href="/Study-history/assets/js/36.ef19edf1.js"><link rel="prefetch" href="/Study-history/assets/js/37.0f9caf07.js"><link rel="prefetch" href="/Study-history/assets/js/38.2e4a8c9a.js"><link rel="prefetch" href="/Study-history/assets/js/39.46f87030.js"><link rel="prefetch" href="/Study-history/assets/js/4.c59777f9.js"><link rel="prefetch" href="/Study-history/assets/js/40.e1794eae.js"><link rel="prefetch" href="/Study-history/assets/js/41.5507fc07.js"><link rel="prefetch" href="/Study-history/assets/js/42.caa5814b.js"><link rel="prefetch" href="/Study-history/assets/js/43.6cd8bb3f.js"><link rel="prefetch" href="/Study-history/assets/js/44.2442f75f.js"><link rel="prefetch" href="/Study-history/assets/js/45.9648c0bd.js"><link rel="prefetch" href="/Study-history/assets/js/46.de6e3a74.js"><link rel="prefetch" href="/Study-history/assets/js/47.72c2c6ba.js"><link rel="prefetch" href="/Study-history/assets/js/48.d5004b5b.js"><link rel="prefetch" href="/Study-history/assets/js/49.a2d1d664.js"><link rel="prefetch" href="/Study-history/assets/js/5.9b395665.js"><link rel="prefetch" href="/Study-history/assets/js/50.19b7d6c9.js"><link rel="prefetch" href="/Study-history/assets/js/51.a9a0da08.js"><link rel="prefetch" href="/Study-history/assets/js/52.e99771cc.js"><link rel="prefetch" href="/Study-history/assets/js/53.74e55a43.js"><link rel="prefetch" href="/Study-history/assets/js/54.c4ff7ebc.js"><link rel="prefetch" href="/Study-history/assets/js/55.acadfba7.js"><link rel="prefetch" href="/Study-history/assets/js/56.8fa49260.js"><link rel="prefetch" href="/Study-history/assets/js/57.08f5f4e4.js"><link rel="prefetch" href="/Study-history/assets/js/58.9d13dd4c.js"><link rel="prefetch" href="/Study-history/assets/js/6.d5fd31a3.js"><link rel="prefetch" href="/Study-history/assets/js/7.ec2eb6b8.js"><link rel="prefetch" href="/Study-history/assets/js/8.91dd34c9.js"><link rel="prefetch" href="/Study-history/assets/js/9.814e5587.js">
    <link rel="stylesheet" href="/Study-history/assets/css/0.styles.e2241fa8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Study-history/" class="home-link router-link-active"><!----> <span class="site-name">NorthUnicorn</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Study-history/front/" class="nav-link">front</a></div><div class="nav-item"><a href="/Study-history/houduan/" class="nav-link">back</a></div><div class="nav-item"><a href="/Study-history/devOps/" class="nav-link">devOps</a></div><div class="nav-item"><a href="/Study-history/interview/" class="nav-link">interview</a></div><div class="nav-item"><a href="/Study-history/article/" class="nav-link router-link-active">article</a></div><div class="nav-item"><a href="https://github.com/songge7777" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Study-history/front/" class="nav-link">front</a></div><div class="nav-item"><a href="/Study-history/houduan/" class="nav-link">back</a></div><div class="nav-item"><a href="/Study-history/devOps/" class="nav-link">devOps</a></div><div class="nav-item"><a href="/Study-history/interview/" class="nav-link">interview</a></div><div class="nav-item"><a href="/Study-history/article/" class="nav-link router-link-active">article</a></div><div class="nav-item"><a href="https://github.com/songge7777" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>article</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Study-history/article/webpack5.html" class="sidebar-link">webpack5 更新版本</a></li><li><a href="/Study-history/article/webpack.html" class="sidebar-link">webpack(基础)</a></li><li><a href="/Study-history/article/module.html" class="sidebar-link">module</a></li><li><a href="/Study-history/article/vueAnalysis.html" class="sidebar-link">vue</a></li><li><a href="/Study-history/article/vueN.html" class="sidebar-link">vue</a></li><li><a href="/Study-history/article/promise.html" class="sidebar-link">promise &amp;&amp; Event Loop</a></li><li><a href="/Study-history/article/frontModle.html" class="sidebar-link">发布订阅模式&amp;&amp;观察者模式</a></li><li><a href="/Study-history/article/vuePlugin.html" class="sidebar-link">vuePlugin</a></li><li><a href="/Study-history/article/jwtPrinciple.html" class="sidebar-link">jwt</a></li><li><a href="/Study-history/article/routerAuth.html" class="sidebar-link">routerAuth</a></li><li><a href="/Study-history/article/statusCode.html" class="sidebar-link">常用的状态码</a></li><li><a href="/Study-history/article/useLibrary.html" class="sidebar-link">常用库</a></li><li><a href="/Study-history/article/reg.html" class="sidebar-link">正则</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>vue</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Study-history/article/vueSource.html" class="sidebar-link">vue source</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>axios</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Study-history/article/axios.html" class="sidebar-link">axios</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>upload</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Study-history/article/upload.html" class="sidebar-link">upload</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>binary</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Study-history/article/binary.html" class="sidebar-link">二进制</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>http</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Study-history/article/http.html" class="active sidebar-link">http</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Study-history/article/http.html#应用层" class="sidebar-link">应用层</a></li><li class="sidebar-sub-header"><a href="/Study-history/article/http.html#传输层" class="sidebar-link">传输层</a></li><li class="sidebar-sub-header"><a href="/Study-history/article/http.html#tcp" class="sidebar-link">TCP</a></li><li class="sidebar-sub-header"><a href="/Study-history/article/http.html#tcp优化策略" class="sidebar-link">TCP优化策略</a></li><li class="sidebar-sub-header"><a href="/Study-history/article/http.html#网络层" class="sidebar-link">网络层</a></li><li class="sidebar-sub-header"><a href="/Study-history/article/http.html#http-1-1" class="sidebar-link">HTTP/1.1</a></li><li class="sidebar-sub-header"><a href="/Study-history/article/http.html#http之前的故事" class="sidebar-link">http之前的故事</a></li><li class="sidebar-sub-header"><a href="/Study-history/article/http.html#tcp的一些问题" class="sidebar-link">tcp的一些问题</a></li><li class="sidebar-sub-header"><a href="/Study-history/article/http.html#http-1-1-2" class="sidebar-link">http/1.1</a></li><li class="sidebar-sub-header"><a href="/Study-history/article/http.html#请求头和-响应头" class="sidebar-link">请求头和 响应头</a></li><li class="sidebar-sub-header"><a href="/Study-history/article/http.html#" class="sidebar-link"></a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="http"><a href="#http" aria-hidden="true" class="header-anchor">#</a> http</h1> <p></p><div class="table-of-contents"><ul><li><a href="#应用层">应用层</a></li><li><a href="#传输层">传输层</a></li><li><a href="#tcp">TCP</a></li><li><a href="#tcp优化策略">TCP优化策略</a><ul><li><a href="#滑动窗口">滑动窗口</a></li><li><a href="#粘包">粘包</a></li><li><a href="#拥塞处理">拥塞处理</a></li><li><a href="#建立连接-数据传输">建立连接/数据传输</a></li><li><a href="#udp">UDP</a></li></ul></li><li><a href="#网络层">网络层</a></li><li><a href="#http-1-1">HTTP/1.1</a><ul><li><a href="#http-和-https">http 和 https</a></li><li><a href="#tls-算法">tls 算法</a></li><li><a href="#对称加密-aes和chacha20">对称加密(AES和ChaCha20)</a></li><li><a href="#非对称钥匙">非对称钥匙</a></li><li><a href="#混合加密">混合加密</a></li><li><a href="#数字证书和ca-这些都是在握手阶段-后面长链接就不触发这些">数字证书和ca (这些都是在握手阶段 后面长链接就不触发这些)</a></li><li><a href="#核心三步">核心三步</a></li></ul></li><li><a href="#http之前的故事">http之前的故事</a><ul><li><a href="#http-1-0">HTTP/1.0</a></li></ul></li><li><a href="#tcp的一些问题">tcp的一些问题</a></li><li><a href="#http-1-1">http/1.1</a></li><li><a href="#请求头和-响应头">请求头和 响应头</a></li><li><a href="#"></a></li></ul></div><p></p> <h2 id="应用层"><a href="#应用层" aria-hidden="true" class="header-anchor">#</a> 应用层</h2> <ul><li>http</li> <li>DNS 协议: 将域名解析成ip地址(会缓存, 基于UDP)</li> <li>DHCP 协议: 自动获取网络配置(机器链接后 我们无需自己手动配置 动态配置IP, 基于UDP)</li></ul> <h2 id="传输层"><a href="#传输层" aria-hidden="true" class="header-anchor">#</a> 传输层</h2> <ul><li>TCP / UDP</li></ul> <h2 id="tcp"><a href="#tcp" aria-hidden="true" class="header-anchor">#</a> TCP</h2> <ul><li>TCP: 传输控制协议 在不可靠的 IP 层上建立可靠的传输层。 TCP提供全双工服务，即数据可在同一时间双向传播。
<ul><li>一个字节8个bit</li> <li>数据格式</li> <li>(源端和目标的端口 16bit + 16bit)</li> <li>(32bit序列号)</li> <li>(32bit确认号)</li> <li>(首部长度和窗口大小等 32bit)</li> <li>(校验和 16bit 紧急指针 16bit)</li> <li>以及可选项和数据(默认情况没有),以上综合(20个字节),一个tcp至少有21个字节(只要一个)</li></ul></li></ul> <h2 id="tcp优化策略"><a href="#tcp优化策略" aria-hidden="true" class="header-anchor">#</a> TCP优化策略</h2> <h3 id="滑动窗口"><a href="#滑动窗口" aria-hidden="true" class="header-anchor">#</a> 滑动窗口</h3> <ul><li>tcp 是全双工, 客户端和服务端 都有自己的缓存区域, 会根据网络调整发送数据的多少, 数据是乱序发送的,当接受到某个包,可能之前的包没有收到,此时需要等待前面序号的包到了才可以(队头堵塞)</li> <li>如果某个数据丢包了  那需要重新发送(超时重传 RTO)</li> <li>当接收方的缓存区满了 每隔一段时间 发送方会 会发送一个探索包 来询问能否调整窗口大小，同时上层协议消耗掉了接收方的数据,接收方也会主动通知发送方调整窗口 继续发送数据</li> <li>一帧 大 概1500 个字节: ip 20字节 tcp头 20字节  tcp剩下的 1460字节</li> <li>问题: 每次去咨询窗口大小 都会发送一次请求 比较浪费 性能差</li></ul> <h3 id="粘包"><a href="#粘包" aria-hidden="true" class="header-anchor">#</a> 粘包</h3> <ul><li>nagle 算法 在同一时间内，最多只能有一个未被确认的小段 (TCP 内部控制) node 默认用它
<ul><li>发送和确认的很快 nagle无法控制到</li></ul></li> <li>cork算法(粘包) 当达到最大值时统一进行发送(此时就是帧的大小 - ip头  - tcp头 = 1460个字节) 理论值</li></ul> <h3 id="拥塞处理"><a href="#拥塞处理" aria-hidden="true" class="header-anchor">#</a> 拥塞处理</h3> <ul><li>拥塞处理 快重传 快恢复(Reno算法)
<ul><li>快重传: 可能在发送的过程中出现丢包现象,此时不要立即回退到慢阶段开始,而是对已接受到的报文进行重复确认,如果达到3次,则立即进行重复传, 快恢复算法(减少超时重传机制出现),降低cwnd的频率</li> <li>先从指数增长,达到一定的值,在线性增长</li> <li>恢复成原来的一半</li></ul></li></ul> <h3 id="建立连接-数据传输"><a href="#建立连接-数据传输" aria-hidden="true" class="header-anchor">#</a> 建立连接/数据传输</h3> <ul><li>连接 3次握手</li> <li>断开 四次挥手</li></ul> <h3 id="udp"><a href="#udp" aria-hidden="true" class="header-anchor">#</a> UDP</h3> <ul><li>UDP: 是一个无连接、不保证可靠性的传输层协议。你让我发什么就发什么！</li> <li>使用场景： DHCP 协议、 DNS 协议、 QUIC 协议等 (处理速度快，可以丢包的情况)</li> <li>数据结构:
<ul><li>(源端和目标的端口 16bit + 16bit)</li> <li>数据</li></ul></li></ul> <h2 id="网络层"><a href="#网络层" aria-hidden="true" class="header-anchor">#</a> 网络层</h2> <ul><li>IP 协议: 寻址通过路由器查找,将消息发给对方路由器</li> <li>ARP 协议: 地址转化协议(将ip地址转换成mac地址)</li></ul> <h2 id="http-1-1"><a href="#http-1-1" aria-hidden="true" class="header-anchor">#</a> HTTP/1.1</h2> <ul><li>他基于 TCP/IP 协议；</li></ul> <h3 id="http-和-https"><a href="#http-和-https" aria-hidden="true" class="header-anchor">#</a> http 和 https</h3> <ul><li>https核心(保存密文,防止串改)</li> <li>http -&gt; tcp -&gt; ip -&gt; mac</li> <li>https -&gt; ssl/tls -&gt; tcp -&gt; ip -&gt; mac</li> <li>SSL 安全套接层（Secure Sockets Layer） 发展到 v3 时改名为 TLS 传输层安全(Transport Layer Security)，主要的目的是提供数据的完整性和保密性。</li></ul> <h3 id="tls-算法"><a href="#tls-算法" aria-hidden="true" class="header-anchor">#</a> tls 算法</h3> <ul><li>摘要算法(hash算法 128位 2进制 生成一个签名) 主要保证数据完整 性</li> <li>一段数据通过摘要算法生产一个签名,数据和签名一起发给服务器,服务通过对数据再次进行摘要算法,对比传递过来的数据 是否一直,如果一直则数据没有被修改</li> <li>问题,中间人拦截数据 修改数据 生成一个新的算法给服务器,这样就有问题</li></ul> <h3 id="对称加密-aes和chacha20"><a href="#对称加密-aes和chacha20" aria-hidden="true" class="header-anchor">#</a> 对称加密(AES和ChaCha20)</h3> <ul><li>客户端和服务端 都有一把共同的钥匙, 两边都用同一把钥匙进行加密解密</li> <li>问题,中间人拦截那把钥匙</li></ul> <h3 id="非对称钥匙"><a href="#非对称钥匙" aria-hidden="true" class="header-anchor">#</a> 非对称钥匙</h3> <ul><li>客户端有(公钥a和私钥a),服务端有(公钥b和私钥b)</li> <li>服务端用公钥b加密给客户端,客户端用私钥a解密,同时客户端用公钥a加密给服务端,客户端用公钥a解密,</li> <li>问题,中间人拦截没用,但是非常消耗性能</li></ul> <h3 id="混合加密"><a href="#混合加密" aria-hidden="true" class="header-anchor">#</a> 混合加密</h3> <ul><li>对称+非对称</li> <li>通过非对称加密处理密钥传输(服务器公钥给客户端,客户端用公钥和一个随机数生成一个东西给服务器,服务器通过私钥解析随机数)</li> <li>数据传输就用对称(即 随机数作为对称加密的钥匙)</li> <li>问题: 你不知道公钥是谁发给你的,没法校验公钥安全， 中间人拦截公钥(中间人攻击)</li></ul> <h3 id="数字证书和ca-这些都是在握手阶段-后面长链接就不触发这些"><a href="#数字证书和ca-这些都是在握手阶段-后面长链接就不触发这些" aria-hidden="true" class="header-anchor">#</a> 数字证书和ca (这些都是在握手阶段 后面长链接就不触发这些)</h3> <ul><li>数字证书里面 有ca公钥和ca私钥</li> <li>包含服务端公钥，证书所有者，证书颁发给谁，证书有效期，签名算法，摘要用, 用非对称加密,用私钥签名</li> <li>当客户端访问服务端的时候，服务器会生成自己的公钥和私钥 =》将公钥传递给ca进行认证(ca证书有自己的私钥和公钥，他会把内容进行一个签名(直接把证书用私钥签名内容太多,把证书进行摘要,将摘要的结果用私钥加密,发送给客户端))</li> <li>客户端会在操作系统中放入根证书，所以收到证书后可以进行验证签名(用内置的ca公钥进行解密，在对解密出内容进行摘要)，同时将传递的铭文进行摘要,这俩进行匹配如果一直则说明公钥是合法的</li> <li>可能问题, 中间人拿到服务器的公钥 也没关系,他没法解析客户端的发送的数据,只有服务器的私钥才能对数据解密</li></ul> <h3 id="核心三步"><a href="#核心三步" aria-hidden="true" class="header-anchor">#</a> 核心三步</h3> <ul><li>加密，数据一致性，身份认证</li> <li>百度使用的 RSA 算法生成密钥(2048长度,主要依靠长度来保证安全)</li> <li>淘宝使用的 DH密钥交换(密钥协商:客户端和服务端各自手握一个密钥,通过混合,在传递给对方,拿到混合物在进行添加混合,此时两天的混合物是一样的,客户端混合物有服务端的密钥,服务端同样也是,但是密钥没有公开的传输过)
<ul><li>密钥协商(DH 算法: client 和 server各自有生成一个参数混合后,相互传送,这就是serverParams和clientParams,然后将各自的保存参数和接受对方参数进行混合,保证他们两最终的数据是一样)</li> <li>客户端: 随机数C 随机数S + serverParams clientParams =&gt; 密钥会话</li> <li>服务端: 随机数C 随机数S + serverParams clientParams =&gt; 密钥会话</li></ul></li></ul> <h2 id="http之前的故事"><a href="#http之前的故事" aria-hidden="true" class="header-anchor">#</a> http之前的故事</h2> <h3 id="http-1-0"><a href="#http-1-0" aria-hidden="true" class="header-anchor">#</a> HTTP/1.0</h3> <ul><li>增加请求头和响应头,实现多类型数据传输。都是串行</li></ul> <h2 id="tcp的一些问题"><a href="#tcp的一些问题" aria-hidden="true" class="header-anchor">#</a> tcp的一些问题</h2> <ul><li>TCP顺序问题 后面的包先到达需要等待前面的包返回之后才可以继续传输(队头堵塞问题)</li> <li>慢启动的过程 非常消耗性能(tcp 自带流量控制,他要找到一个合适的传输多少数据)</li> <li>time-wait 客户端链接服务器最后不会立即断开 在高并发 短链接的情况下啊 会出现端口全被占用(四次分手)</li></ul> <h2 id="http-1-1-2"><a href="#http-1-1-2" aria-hidden="true" class="header-anchor">#</a> http/1.1</h2> <ul><li>1、基于tcp 传输层 半双工通讯(请求应答模式) http 默认是无状态(默认tcp 不能在没有应答完成后复用tcp 通道继续发送消息)</li> <li>2、tcp的规范 就是固定的组成结构
<ul><li>请求行  响应行  请求行 响应行 主要的目的就说是描述我要做什么事  服务端告诉客户端ok</li> <li>请求头  响应头  描述我们传输的数据内容 自定义我们的header (http中自己所做的规范)</li> <li>请求体  响应体  两者的数据</li></ul></li> <li>3、纯文本协议,安全问题 明文 =&gt; https</li> <li>4、核心在于内容协商</li> <li>5、http 实现长链接 会默认在请求的时候 增加 connection:keep-alive, connection:close 复用tcp通道传递数据(必须在一次请求应答后才能复用) (队头阻塞 http1.1中的)</li> <li>6、管线化方式传递数据
<ul><li>我们针对每个域名 分配6 个 tcp 通道(域名分片 域名不宜过多,过多会导致dns解析大量域名)</li> <li>问题在与 虽然请求是并发的但是 应答依然是按顺序 (管道的特点就是先发送的先回来) (队头阻塞 http1.1中的)</li></ul></li></ul> <h2 id="请求头和-响应头"><a href="#请求头和-响应头" aria-hidden="true" class="header-anchor">#</a> 请求头和 响应头</h2> <ul><li><p>客户端    服务端</p></li> <li><p>Accept   Content-Type  数据类型</p></li> <li><p>Accept-encoding  Content-Encoding  发的数据是用什么格式压缩(gzip,deflate,br)</p></li> <li><p>Accept-language   语言</p></li> <li><p>Range    Content-Range  范围请求数据</p></li> <li><p>多个请求</p></li></ul> <h2 id><a href="#" aria-hidden="true" class="header-anchor">#</a></h2></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">11/7/2022, 8:03:51 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/Study-history/article/binary.html" class="prev">
          二进制
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/Study-history/assets/js/app.a1ad6491.js" defer></script><script src="/Study-history/assets/js/12.d1a6fe69.js" defer></script>
  </body>
</html>
